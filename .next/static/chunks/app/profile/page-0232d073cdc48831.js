(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{9474:(e,a,r)=>{Promise.resolve().then(r.bind(r,44345))},20063:(e,a,r)=>{"use strict";var s=r(47260);r.o(s,"useRouter")&&r.d(a,{useRouter:function(){return s.useRouter}})},33443:(e,a,r)=>{"use strict";r.d(a,{RequireRole:()=>o});var s=r(95155),t=r(12115),i=r(35844),n=r(20063);function o(e){var a;let{role:o,children:l}=e,{state:c,restoreSession:u}=(0,i.A)(),m=(0,n.useRouter)(),[d,h]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{if(!c.isAuthenticated&&!u())return void m.replace("/login");h(!1)},[c.isAuthenticated,u,m]),(0,t.useEffect)(()=>{var e;d||c.isAuthenticated&&(null==(e=c.user)?void 0:e.role)===o||m.replace("/login")},[c,m,d,o]),d||!c.isAuthenticated||(null==(a=c.user)?void 0:a.role)!==o){let e=t.lazy(async()=>{switch(o){case"teacher":let{TeacherSkeleton:e}=await Promise.all([r.e(45),r.e(316),r.e(721)]).then(r.bind(r,94721));return{default:e};case"parent":let{ParentSkeleton:a}=await Promise.all([r.e(45),r.e(316),r.e(524)]).then(r.bind(r,3524));return{default:a};default:let{DashboardSkeleton:s}=await Promise.all([r.e(45),r.e(316)]).then(r.bind(r,30316));return{default:s}}});return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-400 via-blue-300 to-orange-300",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex space-x-1 mb-4",children:[(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce"}),(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,s.jsx)("p",{className:"text-white font-medium",children:"Cargando experiencia educativa..."})]})}),children:(0,s.jsx)(e,{})})}return(0,s.jsx)(s.Fragment,{children:l})}},35844:(e,a,r)=>{"use strict";r.d(a,{O:()=>l,A:()=>c});var s=r(95155),t=r(12115);let i=[{id:"admin-001",username:"admin",password:"admin123",name:"Carlos Rodr\xedguez",role:"admin",email:"carlos.rodriguez@mastersteps.com",organization:"Mastersteps Central",permissions:["all"]},{id:"admin-002",username:"admin@mastersteps.com",password:"admin2024",name:"Ana Garc\xeda",role:"admin",email:"ana.garcia@mastersteps.com",organization:"Mastersteps Central",permissions:["all"]},{id:"teacher-001",username:"maestra.maria",password:"maria123",name:"Mar\xeda Elena V\xe1squez",role:"teacher",email:"maria.vasquez@iglesia-central.com",organization:"Iglesia Central",permissions:["classes","students","content"]},{id:"teacher-002",username:"teacher",password:"teacher123",name:"Rosa Isabel Morales",role:"teacher",email:"rosa.morales@iglesia-betania.com",organization:"Iglesia Betania",permissions:["classes","students","content"]},{id:"teacher-003",username:"prof.lucia",password:"lucia456",name:"Luc\xeda Fern\xe1ndez",role:"teacher",email:"lucia.fernandez@iglesia-emanuel.com",organization:"Iglesia Emanuel",permissions:["classes","students","content"]},{id:"parent-001",username:"padre.juan",password:"juan123",name:"Juan Carlos Mendoza",role:"parent",email:"juan.mendoza@gmail.com",organization:"Iglesia Central",permissions:["view_child_progress","materials"]},{id:"parent-002",username:"parent",password:"parent123",name:"Carmen L\xf3pez",role:"parent",email:"carmen.lopez@hotmail.com",organization:"Iglesia Nueva Vida",permissions:["view_child_progress","materials"]},{id:"parent-003",username:"mama.sofia",password:"sofia789",name:"Sof\xeda Ram\xedrez",role:"parent",email:"sofia.ramirez@yahoo.com",organization:"Iglesia El Redentor",permissions:["view_child_progress","materials"]}],n="auth_state_v1",o=(0,t.createContext)(void 0);function l(e){let{children:a}=e,[r,l]=(0,t.useState)({user:null,isAuthenticated:!1}),c=(0,t.useCallback)(()=>{try{let e=localStorage.getItem(n);if(e){let a=JSON.parse(e);return l(a),!0}}catch(e){}return!1},[]);(0,t.useEffect)(()=>{try{localStorage.setItem(n,JSON.stringify(r))}catch(e){}},[r]);let u=(0,t.useCallback)(async e=>{let{username:a,password:r,preferredRole:s}=e;if(!a.trim())throw Error("Usuario requerido");if(!r.trim())throw Error("Contrase\xf1a requerida");let t=function(e,a,r){let s=i.find(r=>r.username.toLowerCase()===e.toLowerCase()&&r.password===a);return!s||r&&s.role!==r?null:s}(a.trim(),r.trim(),s);if(!t)if(s)throw Error("Credenciales incorrectas o no tienes permisos de ".concat("admin"===s?"Administrador":"teacher"===s?"Maestro":"Padre"));else throw Error("Usuario o contrase\xf1a incorrectos");l({user:{id:t.id,name:t.name,role:t.role,email:t.email,organization:t.organization},isAuthenticated:!0})},[]),m=(0,t.useCallback)(()=>{l({user:null,isAuthenticated:!1})},[]),d=(0,t.useMemo)(()=>({state:r,login:u,logout:m,restoreSession:c}),[r,u,m,c]);return(0,s.jsx)(o.Provider,{value:d,children:a})}function c(){let e=(0,t.useContext)(o);if(!e)throw Error("useAuth debe usarse dentro de AuthProvider");return e}},44345:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>n,dynamic:()=>i});var s=r(95155);r(12115);var t=r(33443);let i="force-dynamic";function n(){return(0,s.jsx)(t.RequireRole,{role:"admin",children:(0,s.jsxs)("div",{className:"max-w-3xl mx-auto p-6",children:[(0,s.jsx)("h1",{className:"text-xl font-semibold mb-2",children:"Perfil"}),(0,s.jsx)("p",{className:"text-sm text-slate-600",children:"Secci\xf3n en construcci\xf3n."})]})})}}},e=>{e.O(0,[441,493,358],()=>e(e.s=9474)),_N_E=e.O()}]);