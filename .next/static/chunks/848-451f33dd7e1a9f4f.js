"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[848],{33443:(e,s,a)=>{a.d(s,{RequireRole:()=>n});var r=a(95155),t=a(12115),l=a(35844),i=a(20063);function n(e){var s;let{role:n,children:o}=e,{state:d,restoreSession:c}=(0,l.A)(),u=(0,i.useRouter)(),[m,x]=(0,t.useState)(!0);if((0,t.useEffect)(()=>{if(!d.isAuthenticated&&!c())return void u.replace("/login");x(!1)},[d.isAuthenticated,c,u]),(0,t.useEffect)(()=>{var e;m||d.isAuthenticated&&(null==(e=d.user)?void 0:e.role)===n||u.replace("/login")},[d,u,m,n]),m||!d.isAuthenticated||(null==(s=d.user)?void 0:s.role)!==n){let e=t.lazy(async()=>{switch(n){case"teacher":let{TeacherSkeleton:e}=await Promise.all([a.e(45),a.e(316),a.e(721)]).then(a.bind(a,94721));return{default:e};case"parent":let{ParentSkeleton:s}=await Promise.all([a.e(45),a.e(316),a.e(524)]).then(a.bind(a,3524));return{default:s};default:let{DashboardSkeleton:r}=await Promise.all([a.e(45),a.e(316)]).then(a.bind(a,30316));return{default:r}}});return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-400 via-blue-300 to-orange-300",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsxs)("div",{className:"flex space-x-1 mb-4",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce"}),(0,r.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,r.jsx)("div",{className:"w-3 h-3 bg-white rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,r.jsx)("p",{className:"text-white font-medium",children:"Cargando experiencia educativa..."})]})}),children:(0,r.jsx)(e,{})})}return(0,r.jsx)(r.Fragment,{children:o})}},35844:(e,s,a)=>{a.d(s,{O:()=>o,A:()=>d});var r=a(95155),t=a(12115);let l=[{id:"admin-001",username:"admin",password:"admin123",name:"Carlos Rodr\xedguez",role:"admin",email:"carlos.rodriguez@mastersteps.com",organization:"Mastersteps Central",permissions:["all"]},{id:"admin-002",username:"admin@mastersteps.com",password:"admin2024",name:"Ana Garc\xeda",role:"admin",email:"ana.garcia@mastersteps.com",organization:"Mastersteps Central",permissions:["all"]},{id:"teacher-001",username:"maestra.maria",password:"maria123",name:"Mar\xeda Elena V\xe1squez",role:"teacher",email:"maria.vasquez@iglesia-central.com",organization:"Iglesia Central",permissions:["classes","students","content"]},{id:"teacher-002",username:"teacher",password:"teacher123",name:"Rosa Isabel Morales",role:"teacher",email:"rosa.morales@iglesia-betania.com",organization:"Iglesia Betania",permissions:["classes","students","content"]},{id:"teacher-003",username:"prof.lucia",password:"lucia456",name:"Luc\xeda Fern\xe1ndez",role:"teacher",email:"lucia.fernandez@iglesia-emanuel.com",organization:"Iglesia Emanuel",permissions:["classes","students","content"]},{id:"parent-001",username:"padre.juan",password:"juan123",name:"Juan Carlos Mendoza",role:"parent",email:"juan.mendoza@gmail.com",organization:"Iglesia Central",permissions:["view_child_progress","materials"]},{id:"parent-002",username:"parent",password:"parent123",name:"Carmen L\xf3pez",role:"parent",email:"carmen.lopez@hotmail.com",organization:"Iglesia Nueva Vida",permissions:["view_child_progress","materials"]},{id:"parent-003",username:"mama.sofia",password:"sofia789",name:"Sof\xeda Ram\xedrez",role:"parent",email:"sofia.ramirez@yahoo.com",organization:"Iglesia El Redentor",permissions:["view_child_progress","materials"]}],i="auth_state_v1",n=(0,t.createContext)(void 0);function o(e){let{children:s}=e,[a,o]=(0,t.useState)({user:null,isAuthenticated:!1}),d=(0,t.useCallback)(()=>{try{let e=localStorage.getItem(i);if(e){let s=JSON.parse(e);return o(s),!0}}catch(e){}return!1},[]);(0,t.useEffect)(()=>{try{localStorage.setItem(i,JSON.stringify(a))}catch(e){}},[a]);let c=(0,t.useCallback)(async e=>{let{username:s,password:a,preferredRole:r}=e;if(!s.trim())throw Error("Usuario requerido");if(!a.trim())throw Error("Contrase\xf1a requerida");let t=function(e,s,a){let r=l.find(a=>a.username.toLowerCase()===e.toLowerCase()&&a.password===s);return!r||a&&r.role!==a?null:r}(s.trim(),a.trim(),r);if(!t)if(r)throw Error("Credenciales incorrectas o no tienes permisos de ".concat("admin"===r?"Administrador":"teacher"===r?"Maestro":"Padre"));else throw Error("Usuario o contrase\xf1a incorrectos");o({user:{id:t.id,name:t.name,role:t.role,email:t.email,organization:t.organization},isAuthenticated:!0})},[]),u=(0,t.useCallback)(()=>{o({user:null,isAuthenticated:!1})},[]),m=(0,t.useMemo)(()=>({state:a,login:c,logout:u,restoreSession:d}),[a,c,u,d]);return(0,r.jsx)(n.Provider,{value:m,children:s})}function d(){let e=(0,t.useContext)(n);if(!e)throw Error("useAuth debe usarse dentro de AuthProvider");return e}},83902:(e,s,a)=>{a.d(s,{f:()=>f});var r=a(95155),t=a(12115),l=a(35844);function i(e){var s,a,t;let{items:i}=e,{state:n}=(0,l.A)();return(0,r.jsxs)("nav",{className:"h-full bg-gradient-to-br from-blue-600 to-blue-700 text-white flex flex-col",children:[(0,r.jsx)("div",{className:"p-6 pt-8 border-b border-blue-500/30",children:(0,r.jsxs)("div",{className:"bg-blue-500/30 backdrop-blur-sm rounded-2xl p-4 border border-blue-400/30",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,r.jsx)("div",{className:"size-12 rounded-full bg-gradient-to-br ".concat((()=>{var e;switch(null==(e=n.user)?void 0:e.role){case"admin":return"from-blue-500 to-blue-600";case"teacher":return"from-orange-500 to-orange-600";case"parent":return"from-green-500 to-green-600";default:return"from-gray-500 to-gray-600"}})()," flex items-center justify-center text-white font-bold text-lg shadow-lg"),children:(()=>{var e;switch(null==(e=n.user)?void 0:e.role){case"admin":return"\uD83D\uDC51";case"teacher":return"\uD83D\uDCDA";case"parent":return"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66";default:return"\uD83D\uDC64"}})()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-white font-semibold",children:(null==(s=n.user)?void 0:s.name)||"Usuario"}),(0,r.jsx)("p",{className:"text-blue-200 text-xs",children:(()=>{var e;switch(null==(e=n.user)?void 0:e.role){case"admin":return"Administrador";case"teacher":return"Maestro";case"parent":return"Padre";default:return"Usuario"}})()})]})]}),(0,r.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-200",children:"Organizaci\xf3n"}),(0,r.jsx)("span",{className:"text-white font-semibold text-right text-xs",children:(null==(a=n.user)?void 0:a.organization)||"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-200",children:"Email"}),(0,r.jsx)("span",{className:"text-orange-300 font-semibold text-xs truncate max-w-24",children:(null==(t=n.user)?void 0:t.email)||"N/A"})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsx)("span",{className:"text-blue-200",children:"Estado"}),(0,r.jsx)("span",{className:"text-green-300 font-semibold",children:"Activo"})]})]})]})}),(0,r.jsx)("div",{className:"flex-1 px-4 py-2",children:i.map((e,s)=>{var a;return(0,r.jsxs)("a",{href:null!=(a=e.href)?a:"#",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 mb-1 ".concat(e.active?"bg-white/20 text-white shadow-md backdrop-blur-sm":"text-blue-100 hover:bg-white/10 hover:text-white"),children:[(0,r.jsx)(e.icon,{className:"size-5"}),(0,r.jsx)("span",{className:"flex-1 truncate",children:e.label}),e.badge&&e.badge>0&&(0,r.jsx)("span",{className:"px-2 py-0.5 text-xs font-bold rounded-full bg-orange-500 text-white",children:e.badge})]},s)})}),(0,r.jsxs)("div",{className:"p-4 border-t border-blue-500/30",children:[(0,r.jsxs)("button",{className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 mb-3 text-red-200 hover:bg-red-500/20 hover:text-red-100",onClick:()=>{confirm("\xbfEst\xe1s seguro de que deseas cerrar sesi\xf3n?")&&(localStorage.removeItem("auth-token"),window.location.href="/login")},children:[(0,r.jsx)("svg",{className:"size-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{children:"Cerrar Sesi\xf3n"})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between text-xs",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-blue-200",children:[(0,r.jsx)("div",{className:"size-2 bg-green-400 rounded-full animate-pulse"}),(0,r.jsx)("span",{children:"Sistema activo"})]}),(0,r.jsx)("span",{className:"text-blue-300",children:"v2.0"})]})]})]})}var n=a(86651),o=a(85998),d=a(20508),c=a(15870),u=a(84926),m=a(52619),x=a.n(m),h=a(15239);function b(){var e,s,a;let{logout:i,state:m}=(0,l.A)(),[b,f]=(0,t.useState)(!1),g=(0,t.useRef)(null);(0,t.useEffect)(()=>{function e(e){g.current&&(g.current.contains(e.target)||f(!1))}return document.addEventListener("click",e),()=>document.removeEventListener("click",e)},[]);let p=()=>{var e;switch(null==(e=m.user)?void 0:e.role){case"admin":return"\uD83D\uDC51";case"teacher":return"\uD83D\uDCDA";case"parent":return"\uD83D\uDC68‍\uD83D\uDC69‍\uD83D\uDC67‍\uD83D\uDC66";default:return"\uD83D\uDC64"}},v=()=>{var e;switch(null==(e=m.user)?void 0:e.role){case"admin":return"from-blue-500 to-blue-600";case"teacher":return"from-orange-500 to-orange-600";case"parent":return"from-green-500 to-green-600";default:return"from-gray-500 to-gray-600"}},j=()=>{var e;switch(null==(e=m.user)?void 0:e.role){case"admin":return"Administrador";case"teacher":return"Maestro";case"parent":return"Padre";default:return"Usuario"}};return(0,r.jsxs)("header",{className:"w-full shadow-lg relative z-50",style:{background:"#0B317D"},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-black/10 via-transparent to-black/20"}),(0,r.jsx)("div",{className:"relative z-10 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("div",{className:"flex items-center gap-4",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"size-12 rounded-xl bg-white/95 backdrop-blur-sm flex items-center justify-center shadow-lg border border-white/30",children:(0,r.jsx)(h.default,{src:"/logo.png",alt:"Mastersteps Logo",width:32,height:32,className:"object-contain"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl font-bold text-white",children:"Mastersteps"}),(0,r.jsx)("p",{className:"text-xs text-blue-100",children:"Plataforma Educativa"})]})]})}),(0,r.jsx)("div",{className:"hidden md:flex flex-1 max-w-xl mx-8",children:(0,r.jsxs)("div",{className:"relative w-full",children:[(0,r.jsx)(n.A,{className:"size-5 absolute left-4 top-1/2 -translate-y-1/2 text-blue-200"}),(0,r.jsx)("input",{placeholder:"Buscar clases, estudiantes, materiales...",className:"w-full pl-12 pr-4 py-3 rounded-2xl bg-white/10 backdrop-blur-sm border border-white/20 text-white placeholder-blue-100 focus:bg-white/20 focus:border-white/40 focus:outline-none transition-all duration-200"})]})}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("button",{className:"relative p-3 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-200",children:[(0,r.jsx)(o.A,{className:"size-5 text-white"}),(0,r.jsx)("span",{className:"absolute -top-1 -right-1 size-5 bg-gradient-to-br from-orange-400 to-orange-600 rounded-full flex items-center justify-center border-2",style:{borderColor:"#0B317D"},children:(0,r.jsx)("span",{className:"text-white text-xs font-bold",children:"3"})})]}),(0,r.jsx)("div",{className:"h-6 w-px bg-white/20"}),(0,r.jsxs)("div",{className:"relative",ref:g,children:[(0,r.jsxs)("button",{onClick:()=>f(!b),className:"flex items-center gap-3 px-4 py-2 rounded-xl bg-white/10 backdrop-blur-sm border border-white/20 hover:bg-white/20 transition-all duration-200",children:[(0,r.jsx)("div",{className:"size-10 rounded-xl bg-gradient-to-br ".concat(v()," flex items-center justify-center text-white font-bold shadow-lg"),children:p()}),(0,r.jsxs)("div",{className:"hidden lg:block text-left",children:[(0,r.jsx)("p",{className:"text-sm font-semibold text-white",children:(null==(e=m.user)?void 0:e.name)||"Usuario"}),(0,r.jsx)("p",{className:"text-xs text-blue-100",children:j()})]})]}),b&&(0,r.jsxs)("div",{className:"absolute right-0 mt-3 w-72 rounded-2xl bg-white shadow-2xl border border-gray-200 z-50 overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-blue-100 border-b border-blue-200",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"size-12 rounded-xl bg-gradient-to-br ".concat(v()," flex items-center justify-center text-white font-bold shadow-lg"),children:p()}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-base font-bold text-gray-900",children:(null==(s=m.user)?void 0:s.name)||"Usuario"}),(0,r.jsx)("p",{className:"text-sm text-blue-600",children:j()}),(null==(a=m.user)?void 0:a.organization)&&(0,r.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["\uD83D\uDCCD ",m.user.organization]})]})]})}),(0,r.jsxs)("div",{className:"py-2",children:[(0,r.jsxs)(x(),{href:"/profile",className:"flex items-center gap-3 px-4 py-3 text-sm font-medium hover:bg-blue-50 transition-colors",children:[(0,r.jsx)("div",{className:"size-8 rounded-lg bg-blue-100 flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"size-4 text-blue-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-900",children:"Mi Perfil"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Informaci\xf3n personal"})]})]}),(0,r.jsxs)(x(),{href:"/settings",className:"flex items-center gap-3 px-4 py-3 text-sm font-medium hover:bg-orange-50 transition-colors",children:[(0,r.jsx)("div",{className:"size-8 rounded-lg bg-orange-100 flex items-center justify-center",children:(0,r.jsx)(c.A,{className:"size-4 text-orange-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-gray-900",children:"Configuraci\xf3n"}),(0,r.jsx)("p",{className:"text-xs text-gray-500",children:"Preferencias del sistema"})]})]}),(0,r.jsx)("div",{className:"h-px bg-gray-200 mx-4 my-2"}),(0,r.jsxs)("button",{onClick:i,className:"flex items-center gap-3 px-4 py-3 text-sm font-medium text-red-600 hover:bg-red-50 w-full text-left transition-colors",children:[(0,r.jsx)("div",{className:"size-8 rounded-lg bg-red-100 flex items-center justify-center",children:(0,r.jsx)(u.A,{className:"size-4 text-red-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-red-600",children:"Cerrar Sesi\xf3n"}),(0,r.jsx)("p",{className:"text-xs text-red-400",children:"Salir del sistema"})]})]})]})]})]})]})]})})]})}function f(e){var s;let{children:a,sidebarItems:t,title:n,subtitle:o,headerActions:d,filters:c}=e,{state:u}=(0,l.A)();return(0,r.jsxs)("div",{className:"min-h-screen w-full bg-gradient-to-br from-blue-400 via-blue-300 to-orange-300 text-gray-900 relative overflow-hidden",children:[(0,r.jsx)(b,{}),(0,r.jsxs)("div",{className:"absolute inset-0 opacity-20",children:[(0,r.jsx)("div",{className:"absolute top-10 left-10 w-32 h-32 bg-orange-400 rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"absolute top-40 right-20 w-40 h-40 bg-blue-300 rounded-full blur-3xl"}),(0,r.jsx)("div",{className:"absolute bottom-20 left-1/4 w-24 h-24 bg-orange-300 rounded-full blur-xl"}),(0,r.jsx)("div",{className:"absolute bottom-40 right-1/3 w-28 h-28 bg-blue-400 rounded-full blur-2xl"}),(0,r.jsx)("div",{className:"absolute top-1/2 left-1/2 w-36 h-36 bg-yellow-300 rounded-full blur-3xl transform -translate-x-1/2 -translate-y-1/2"})]}),(0,r.jsx)("div",{className:"relative z-10",children:(0,r.jsxs)("div",{className:"flex",style:{height:"calc(100vh - 80px)"},children:[(0,r.jsx)("aside",{className:"w-80 flex-shrink-0",children:(0,r.jsx)(i,{items:t})}),(0,r.jsx)("main",{className:"flex-1 overflow-auto bg-gray-50",children:(0,r.jsxs)("div",{className:"p-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:n}),(0,r.jsx)("p",{className:"text-gray-600",children:o}),(null==(s=u.user)?void 0:s.organization)&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:["\uD83D\uDCCD ",u.user.organization]})]}),d&&(0,r.jsx)("div",{className:"flex items-center gap-3",children:d})]}),c&&(0,r.jsx)("div",{className:"flex items-center gap-4 mb-8",children:c})]}),a]})})]})})]})}}}]);